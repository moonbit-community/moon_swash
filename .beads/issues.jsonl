{"id":"moon_swash-9g1","title":"Scale: support variable font coords (Setting + normalized_coords)","description":"Port swash-reference Setting\u003cT\u003e parsing (u16/f32) and wire ScalerBuilder.variations/normalized_coords so ScaleContext passes LocationRef with coords to skrifa outlines/hinting.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T17:55:33.981798+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:15:49.899119+08:00","closed_at":"2026-01-27T18:15:49.899119+08:00","close_reason":"Added Setting parsers and wired ScalerBuilder variation coords support"}
{"id":"moon_swash-b4h","title":"Scale/bitmap: port PNG decode pipeline using moon_yazi zlib","description":"swash-reference uses yazi to inflate PNG IDAT (zlib) when decoding embedded bitmap glyphs. Port scale/bitmap/png.rs behavior in MoonBit on top of moon_yazi, wire into renderer once bitmap/color bitmap sources are implemented.","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-25T00:37:13.814822+08:00","created_by":"Milky2018","updated_at":"2026-01-27T17:15:30.671028+08:00","closed_at":"2026-01-27T17:15:30.671028+08:00","close_reason":"Closed","comments":[{"id":4,"issue_id":"moon_swash-b4h","author":"Milky2018","text":"Ported swash-reference PNG decode pipeline and wired into scale_bitmap for sbix/cbdt PNG glyphs. Implemented decode_png in src/scale/bitmap_png.mbt (yazi zlib IDAT inflation + filters), added Mitchell resizer and EBDT 1bpp decoder in src/scale/bitmap.mbt, and added synthetic sbix+ebdt tests. Commit: 7a41969.","created_at":"2026-01-27T09:15:18Z"}]}
{"id":"moon_swash-or2","title":"Scale: adopt moon_skrifa outlines/hinting to match swash-reference","description":"Current ScaleContext/Scaler uses a manual glyf decoder fallback. Align with swash-reference by using moon_skrifa OutlineGlyphCollection draw + hinting (size/variations), and remove the manual TrueType glyf decoding path once moon_skrifa APIs are sufficient.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-25T00:37:12.808106+08:00","created_by":"Milky2018","updated_at":"2026-01-27T17:50:45.878909+08:00","closed_at":"2026-01-27T17:50:45.878909+08:00","close_reason":"Implemented skrifa hinting instance cache and integrated into scale builder","comments":[{"id":1,"issue_id":"moon_swash-or2","author":"Milky2018","text":"Checked moon_skrifa 0.1.2: outline module now uses Double PathElement coords, introduces core package with GlyphId wrapper, and includes embedded TT hinting engine + parity tests. Updated moon_swash scale package imports/calls accordingly (now calling OutlineGlyphCollection::draw with DrawSettings and core.GlyphId).","created_at":"2026-01-27T07:15:27Z"},{"id":2,"issue_id":"moon_swash-or2","author":"Milky2018","text":"Implemented initial zeno-based Outline rendering: Render::render_into now rasterizes scaled outlines via moon_zeno Mask::with_scratch; Outline gained path() + embolden() port; GlyphId aligned to UInt16 like swash-reference; ScaleContext now holds render scratch state.","created_at":"2026-01-27T07:44:51Z"},{"id":3,"issue_id":"moon_swash-or2","author":"Milky2018","text":"Implemented COLR/CPAL layered color outline path (scale_color_outline_into + Render ColorOutline). Uses moon_skrifa color_glyphs/layers + color_palettes, rasterizes each layer to alpha mask and blits into RGBA via swash-reference blit port. Added Outline::get/Layer API and synthetic COLR/CPAL+glyf test. Commit: 166fce2.","created_at":"2026-01-27T08:35:37Z"},{"id":5,"issue_id":"moon_swash-or2","author":"Milky2018","text":"Added bitmap/color-bitmap scaling path: Scaler now supports has_bitmaps/has_color_bitmaps + scale_bitmap/scale_color_bitmap (StrikeWith selection), PNG decode + Mitchell resize, and Render now handles Source::Bitmap/ColorBitmap. Synthetic tests for sbix PNG + ebdt 1bpp. Commit: 7a41969.","created_at":"2026-01-27T09:15:44Z"}]}
{"id":"moon_swash-yob","title":"cache: port FontCache LRU for per-font proxies","description":"Port swash-reference FontCache\u003cT\u003e (simple LRU by epoch) so ScaleContext can cache per-font proxies like metrics/color/bitmaps later.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:18:35.071174+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:18:35.071174+08:00"}
